---
import { Image } from "astro:assets";
import bundleImage from "../assets/bundle-720.avif";
import { config } from "../config";
---

<header
    class="text-center bg-[radial-gradient(circle_at_top,#fff_0%,#f3f4f6_100%)] border-b border-gray-200 py-8 md:py-16"
>
    <div class="container mx-auto px-5 max-w-[900px]">
        <span
            class="inline-block px-3 py-1 rounded-full text-sm font-bold uppercase tracking-wide mb-3 bg-accent-light text-[#B45309] border border-[#FCD34D]"
        >
            Per genitori con figli 11-18 anni
        </span>
        <h1
            class="text-secondary leading-tight font-extrabold text-3xl md:text-5xl mb-3 md:mb-5 tracking-tight"
        >
            Recupera il dialogo con tuo figlio adolescente in 15 giorni
        </h1>
        <div class="flex justify-center mt-1 mb-4">
            <span
                class="inline-block bg-[#E6F4EF] text-primary text-xs font-semibold px-3 py-1 rounded-full border border-primary/20"
            >
                Metodo scaricato da <strong>{config.downloads} genitori</strong>
            </span>
        </div>
        <p
            class="text-lg md:text-xl text-text-light max-w-[600px] mx-auto mb-5 leading-relaxed"
        >
            Meno urla. Niente porte sbattute. Niente silenzi imbarazzanti. Un
            metodo pratico passo-passo.
        </p>

        <!-- Before/After Component -->
        <div
            class="mx-auto my-5 mb-6 max-w-[640px] bg-white rounded-xl border border-[#E8E3DD] p-4 shadow-[0_4px_15px_rgba(0,0,0,0.03)]"
        >
            <div
                class="text-xs uppercase tracking-widest text-gray-500 mb-3 font-bold"
            >
                Cosa inizia a cambiare in 15 giorni
            </div>

            <div
                class="grid grid-cols-[1fr_auto_1fr] gap-2 md:gap-4 items-center text-left"
            >
                <!-- PRIMA -->
                <div
                    class="bg-red-50 border border-red-100 rounded-lg p-3 md:p-4"
                >
                    <span
                        class="block font-extrabold mb-1.5 text-xs md:text-sm uppercase tracking-wide text-badge-red"
                    >
                        Prima
                    </span>
                    <ul class="text-xs md:text-base space-y-1">
                        <li>❌ Chiuso in camera</li>
                        <li>❌ Monosillabi</li>
                        <li>❌ Tensioni e silenzi</li>
                    </ul>
                </div>

                <div class="text-xl md:text-2xl font-bold text-secondary px-1">
                    →
                </div>

                <!-- DOPO -->
                <div
                    class="bg-emerald-50 border border-emerald-100 rounded-lg p-3 md:p-4"
                >
                    <span
                        class="block font-extrabold mb-1.5 text-xs md:text-sm uppercase tracking-wide text-primary"
                    >
                        Dopo 15 giorni
                    </span>
                    <ul class="text-xs md:text-base space-y-1">
                        <li>✅ Dialoghi più fluidi</li>
                        <li>✅ Meno conflitti</li>
                        <li>✅ Clima più sereno</li>
                    </ul>
                </div>
            </div>
        </div>

        <div
            class="w-full max-w-[580px] mx-auto my-4 rounded-2xl drop-shadow-[0_15px_25px_rgba(0,0,0,0.1)]"
        >
            <Image
                src={bundleImage}
                alt="Protocollo 15 Bundle"
                class="w-full h-auto block rounded-2xl"
                loading="eager"
                fetchpriority="high"
            />
        </div>

        <a
            href={config.ctaUrl}
            id="main-hero-cta"
            class="js-main-cta block w-full max-w-[400px] mx-auto mt-4 bg-primary text-white py-4 px-6 text-lg font-bold rounded-lg text-center border-b-4 border-primary-dark transition-all hover:-translate-y-0.5 hover:shadow-[0_6px_16px_rgba(46,125,107,0.4)] active:translate-y-0.5 active:border-b-0 active:mt-5"
        >
            ACCEDI AL METODO A {config.price}
        </a>
        <p class="text-sm text-center text-text-light mt-1.5">
            {config.discount}% Sconto • Accesso Immediato
        </p>
    </div>
</header>
